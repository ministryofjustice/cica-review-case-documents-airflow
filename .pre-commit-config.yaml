repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.12.9
    hooks:
      - id: ruff-format

      - id: ruff
        args: [--fix]
        stages: [pre-commit, pre-push]

  - repo: https://github.com/zricethezav/gitleaks
    rev: v8.28.0
    hooks:
      - id: gitleaks
        args: ["--verbose", "--redact"]
        stages: [pre-commit, pre-push]

  - repo: https://github.com/kynan/nbstripout
    rev: 0.8.1
    hooks:
      - id: nbstripout

  - repo: https://github.com/astral-sh/uv-pre-commit
    # uv version.
    rev: 0.9.5
    hooks:
      - id: uv-lock

  - repo: https://github.com/astral-sh/uv-pre-commit
    # uv version.
    rev: 0.9.5
    hooks:
      - id: uv-export
        always_run: true
        pass_filenames: false

  - repo: https://github.com/fpgmaas/deptry.git
    rev: "0.23.1"
    hooks:
      - id: deptry
        name: deptry
        description: deptry is a command line tool to check for issues with dependencies in a Python project, such as unused or missing dependencies.
        entry: deptry src
        language: system
        types: [python]
        always_run: true
        pass_filenames: false

  - repo: local
    hooks:
      - id: pytest-check
        name: pytest-coverage
        entry: pytest
        language: system
        types: [python]
        args:
          [
            "--cov=src",
            "--cov-fail-under=80",
            "--cov-report=term-missing",
            "--cov-report=html",
          ]
        pass_filenames: false
